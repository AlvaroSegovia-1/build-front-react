{"version":3,"sources":["components/shared/InputImage/InputImage.module.css","components/auth/LoginPage/LoginForm.module.css","components/layout/Header.module.css","components/adverts/NewAdvertPage/NewAdvertForm.module.css","components/shared/FormField/FormField.module.css","components/adverts/AdvertsPage/FiltersForm.module.css","api/client.js","utils/storage.js","contexts/auth.js","components/auth/PrivateRoute.js","api/auth.js","hooks/useForm.js","components/auth/LoginPage/LoginForm.js","components/auth/LoginPage/LoginPage.js","components/shared/ConfirmationButton/ConfirmationButton.js","components/auth/LogoutButton.js","api/adverts.js","components/layout/Header.js","components/layout/Layout.js","components/shared/FormField/FormField.js","assets/photo-placeholder.png","components/shared/InputImage/InputImage.js","components/adverts/Tags.js","utils/numbers.js","components/adverts/AdvertPage/AdvertPage.js","components/adverts/TagsSelect.js","components/adverts/definitions.js","components/adverts/AdvertsPage/FiltersForm.js","components/adverts/AdvertsPage/AdvertCard.js","components/adverts/AdvertsPage/AdvertsPage.js","components/adverts/NewAdvertPage/NewAdvertForm.js","components/adverts/NewAdvertPage/NewAdvertPage.js","components/App/NotFoundPage.js","components/App/App.js","index.js","components/layout/Layout.module.css"],"names":["module","exports","process","host","REACT_APP_API_HOST","version","REACT_APP_API_VERSION","baseURL","client","axios","create","setAuthorizationHeader","token","defaults","headers","common","login","credentials","post","then","auth","logout","Promise","resolve","interceptors","response","use","data","ok","result","reject","error","storage","get","key","value","localStorage","getItem","JSON","parse","set","setItem","stringify","remove","removeItem","auhtContext","React","createContext","AuthContextProvider","Provider","AuthContextConsumer","Consumer","PrivateRoute","props","isLogged","useContext","location","useLocation","to","pathname","state","from","remember","useForm","initialValue","useState","form","setForm","ev","target","name","type","checked","LoginForm","onSubmit","email","password","handleChange","preventDefault","className","styles","input","prefix","MailOutlined","placeholder","onChange","Password","LockOutlined","htmlType","disabled","block","Title","Typography","LoginPage","handleSubmit","onLogin","history","resetError","replace","catch","setState","this","span","offset","style","marginTop","textAlign","afterClose","closable","message","showIcon","Component","ConfirmationButton","confirmationProps","onConfirm","buttonProps","visible","setVisible","content","Fragment","onClick","onOk","onCancel","defaultProps","LogoutButton","handleLogout","onLogout","danger","icon","LogoutOutlined","shape","title","okText","cancelText","okButtonProps","ConnectedToAuthLogoutButton","getAdverts","filters","params","getAdvert","id","photoUrl","photo","createAdvert","advert","deleteAdvert","delete","DesignHeader","DesignLayout","Header","header","size","nav","button","Content","Footer","Layout","children","layout","main","row","col","level","footer","FormField","label","field","InputImage","src","inputRef","createRef","readFile","file","setSrc","reader","FileReader","onload","readAsDataURL","handleClick","fileInput","current","click","handleDeleteClick","files","isSrcLoaded","accept","ref","display","container","image","fallback","height","preview","width","overlay","DeleteOutlined","tagsColors","motor","mobile","lifestyle","work","Tags","tags","map","tag","color","formatter","parser","AdvertPage","getAdvertId","match","push","a","renderAdvert","price","sale","marginRight","alt","Option","Select","TagsSelect","allowClear","mode","saleOptions","sell","buy","all","MAX_PRICE","defaultFilters","FiltersForm","initialFilters","handleNameChange","handlePriceChange","min","max","handleSaleChange","handleTagsChange","priceValue","length","margin","join","range","defaultValue","Group","options","Object","values","getHeadStyle","backgroundColor","AdvertCard","headStyle","hoverable","plain","AdvertsPage","adverts","loading","formatFilters","includes","rows","renderLoading","justifyContent","renderError","description","renderEmpty","isFiltered","Item","_id","renderAdverts","grid","gutter","column","dataSource","renderItem","prevProps","prevFilters","NewAdvertForm","canSubmit","Number","isNaN","isFinite","every","validation","getFormData","formData","FormData","append","forEach","index","handlePhotoChange","numbers","NewAdvertPage","NotFoundPage","App","isInitiallyLogged","handleLogin","cb","path","exact","routerProps","component","configureClient","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c7c4c463.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"InputImage_container__1zv5a\",\"image\":\"InputImage_image__3AFXt\",\"overlay\":\"InputImage_overlay__4O-po\",\"button\":\"InputImage_button__11s0V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"LoginForm_input__1O4I0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2otSh\",\"nav\":\"Header_nav__1k-0_\",\"button\":\"Header_button__3Evlt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"NewAdvertForm_form__1EjpD\",\"price\":\"NewAdvertForm_price__20SE1\",\"button\":\"NewAdvertForm_button__3z-WQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"field\":\"FormField_field__2VK_p\",\"label\":\"FormField_label__14f0q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"FiltersForm_form__1MmZQ\",\"button\":\"FiltersForm_button__3S6P9\"};","import axios from 'axios';\n\nconst {\n  REACT_APP_API_HOST: host,\n  REACT_APP_API_VERSION: version,\n} = process.env;\nconst baseURL = `${host}/${version}`;\n\n// Create axios instance\nconst client = axios.create({\n  baseURL,\n});\n\nconst setAuthorizationHeader = token => {\n  client.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n};\n\nconst removeAuthorizationHeader = () => {\n  delete client.defaults.headers.common['Authorization'];\n};\n\n// Login method\nclient.login = credentials =>\n  client.post('/auth/login', credentials).then(auth => {\n    // Set Authorization header for future requests\n    setAuthorizationHeader(auth.token);\n    return auth;\n  });\n\n// Logout method\nclient.logout = () =>\n  new Promise(resolve => {\n    // Remove Authorization header\n    removeAuthorizationHeader();\n    resolve();\n  });\n\n// Intercepts response\nclient.interceptors.response.use(\n  ({ data: { ok, ...result } }) => {\n    if (!ok) {\n      return Promise.reject(result.error);\n    }\n    return Promise.resolve(result);\n  },\n  error => {\n    if (error.response) {\n      return Promise.reject(error.response.data.error);\n    }\n    return Promise.reject(error);\n  },\n);\n\n// Configure client\nexport const configureClient = token => {\n  if (token) {\n    setAuthorizationHeader(token);\n  }\n};\n\nexport default client;\n","const storage = {\n  get(key) {\n    const value = localStorage.getItem(key);\n    if (!value) {\n      return null;\n    }\n    return JSON.parse(value);\n  },\n\n  set(key, value) {\n    localStorage.setItem(key, JSON.stringify(value));\n  },\n\n  remove(key) {\n    localStorage.removeItem(key);\n  },\n};\n\nexport default storage;\n","import React, { useContext } from 'react';\n\nconst auhtContext = React.createContext();\n\nexport const AuthContextProvider = auhtContext.Provider;\nexport const AuthContextConsumer = auhtContext.Consumer;\n\nexport const useAuthContext = () => {\n  const auth = useContext(auhtContext);\n  return auth;\n};\n\nexport default auhtContext;\n","import React from 'react';\nimport { Route, Redirect, useLocation } from 'react-router-dom';\n\nimport { useAuthContext } from '../../contexts/auth';\n\nconst PrivateRoute = props => {\n  const { isLogged } = useAuthContext();\n  const location = useLocation();\n  return isLogged ? (\n    <Route {...props} />\n  ) : (\n    <Redirect to={{ pathname: '/login', state: { from: location } }} />\n  );\n};\n\nexport default PrivateRoute;\n","import client from './client';\nimport storage from '../utils/storage';\n\nexport const login = ({ remember, ...credentials }) =>\n  client.login(credentials).then(auth => {\n    if (remember) {\n      storage.set('auth', auth);\n    }\n  });\n\nexport const logout = () =>\n  client.logout().then(() => {\n    storage.remove('auth');\n  });\n","import { useState } from 'react';\n\nconst useForm = initialValue => {\n  const [form, setForm] = useState(initialValue);\n\n  const handleChange = ev => {\n    const { name, type, value, checked } = ev.target;\n    setForm({ ...form, [name]: type === 'checkbox' ? checked : value });\n  };\n\n  return [form, handleChange];\n};\n\nexport default useForm;\n","import React from 'react';\nimport T from 'prop-types';\nimport { Button, Checkbox, Input } from 'antd';\nimport { MailOutlined, LockOutlined } from '@ant-design/icons';\n\nimport useForm from '../../../hooks/useForm';\nimport styles from './LoginForm.module.css';\n\nfunction LoginForm({ onSubmit }) {\n  const [form, handleChange] = useForm({\n    email: '',\n    password: '',\n    remember: false,\n  });\n  const { email, password, remember } = form;\n\n  const canSubmit = () => {\n    return !!(email && password);\n  };\n\n  const handleSubmit = ev => {\n    ev.preventDefault();\n    onSubmit(form);\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <Input\n        name=\"email\"\n        className={styles.input}\n        prefix={<MailOutlined />}\n        placeholder=\"Email\"\n        onChange={handleChange}\n        value={email}\n      />\n      <Input.Password\n        name=\"password\"\n        className={styles.input}\n        prefix={<LockOutlined />}\n        placeholder=\"Password\"\n        onChange={handleChange}\n        value={password}\n      />\n      <Checkbox\n        name=\"remember\"\n        className={styles.input}\n        onChange={handleChange}\n        checked={remember}\n      >\n        Remember me\n      </Checkbox>\n      <Button type=\"primary\" htmlType=\"submit\" disabled={!canSubmit()} block>\n        Log In\n      </Button>\n    </form>\n  );\n}\n\nLoginForm.propTypes = {\n  onSubmit: T.func.isRequired,\n};\n\nexport default LoginForm;\n","import React from 'react';\nimport T from 'prop-types';\nimport { Alert, Col, Row, Typography } from 'antd';\n\nimport { login } from '../../../api/auth';\nimport LoginForm from './LoginForm';\n\nconst { Title } = Typography;\n\nclass LoginPage extends React.Component {\n  state = {\n    error: null,\n  };\n\n  handleSubmit = credentials => {\n    const { onLogin, location, history } = this.props;\n    this.resetError();\n    login(credentials)\n      .then(() => {\n        onLogin(() => {\n          // Navigate to previously required route\n          const { from } = location.state || { from: { pathname: '/' } };\n          history.replace(from);\n        });\n      })\n      .catch(error => {\n        this.setState({ error });\n      });\n  };\n\n  resetError = () => this.setState({ error: null });\n\n  render() {\n    const { error } = this.state;\n    return (\n      <Row>\n        <Col span={8} offset={8} style={{ marginTop: 64 }}>\n          <Title style={{ textAlign: 'center' }}>Log In</Title>\n          <LoginForm onSubmit={this.handleSubmit} />\n          {error && (\n            <Alert\n              afterClose={this.resetError}\n              closable\n              message={error}\n              showIcon\n              type=\"error\"\n              style={{ marginTop: 24 }}\n            />\n          )}\n        </Col>\n      </Row>\n    );\n  }\n}\n\nLoginPage.propTypes = {\n  onLogin: T.func.isRequired,\n  history: T.shape({ replace: T.func.isRequired }).isRequired,\n  location: T.shape({\n    state: T.shape({ from: T.shape({ pathname: T.string }) }),\n  }).isRequired,\n};\n\nexport default LoginPage;\n","import React, { useState } from 'react';\nimport T from 'prop-types';\nimport { Button, Modal } from 'antd';\n\nfunction ConfirmationButton({ confirmationProps, onConfirm, ...buttonProps }) {\n  const [visible, setVisible] = useState(false);\n\n  const handleClick = () => setVisible(true);\n  const handleCancel = () => setVisible(false);\n\n  const handleOk = () => {\n    setVisible(false);\n    onConfirm();\n  };\n\n  const { content } = confirmationProps;\n  return (\n    <React.Fragment>\n      <Button onClick={handleClick} {...buttonProps} />\n      <Modal\n        visible={visible}\n        onOk={handleOk}\n        onCancel={handleCancel}\n        {...confirmationProps}\n      >\n        {content}\n      </Modal>\n    </React.Fragment>\n  );\n}\n\nConfirmationButton.propTypes = {\n  confirmationProps: T.shape({\n    content: T.node,\n  }).isRequired,\n  onConfirm: T.func,\n};\n\nConfirmationButton.defaultProps = {\n  onConfirm: () => {},\n};\n\nexport default ConfirmationButton;\n","import React from 'react';\nimport T from 'prop-types';\nimport { LogoutOutlined } from '@ant-design/icons';\n\nimport { logout } from '../../api/auth';\nimport ConfirmationButton from '../shared/ConfirmationButton';\nimport { AuthContextConsumer } from '../../contexts/auth';\n\nclass LogoutButton extends React.Component {\n  handleLogout = () => {\n    const { onLogout } = this.props;\n    logout().then(onLogout);\n  };\n\n  render() {\n    const { onLogout, ...props } = this.props;\n    return (\n      <ConfirmationButton\n        danger\n        icon={<LogoutOutlined />}\n        shape=\"round\"\n        type=\"dashed\"\n        confirmationProps={{\n          title: 'Close session?',\n          content: 'Are you sure you want to disconnect?',\n          okText: 'Yes',\n          cancelText: 'No',\n          okButtonProps: {\n            danger: true,\n          },\n        }}\n        onConfirm={this.handleLogout}\n        {...props}\n      />\n    );\n  }\n}\n\nLogoutButton.propTypes = {\n  onLogout: T.func.isRequired,\n};\n\nconst ConnectedToAuthLogoutButton = props => (\n  <AuthContextConsumer>\n    {({ onLogout }) => <LogoutButton onLogout={onLogout} {...props} />}\n  </AuthContextConsumer>\n);\n\nexport default ConnectedToAuthLogoutButton;\n","import client from './client';\n\nconst { REACT_APP_API_HOST: host } = process.env;\n\nexport const getAdverts = filters => {\n  return client.get(`/adverts`, { params: filters });\n};\n\nexport const getAdvert = id =>\n  client.get(`/adverts/${id}`).then(response => {\n    response.result.photoUrl = `${host}${response.result.photo}`;\n    return response;\n  });\n\nexport const getTags = () => client.get('/adverts/tags');\n\nexport const createAdvert = advert => client.post(`/adverts`, advert);\n\nexport const deleteAdvert = id => client.delete(`/adverts/${id}`);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Layout as DesignLayout, Space } from 'antd';\n\nimport styles from './Header.module.css';\nimport { LogoutButton } from '../auth';\n\nconst { Header: DesignHeader } = DesignLayout;\n\nconst Header = () => (\n  <DesignHeader className={styles.header}>\n    <Space size=\"large\" className={styles.nav}>\n      <Link to=\"/\">Adverts</Link>\n      <Link to=\"/adverts/new\">New advert</Link>\n    </Space>\n    <LogoutButton className={styles.button}>Logout</LogoutButton>\n  </DesignHeader>\n);\n\nexport default Header;\n","import T from 'prop-types';\nimport { Layout as DesignLayout, Row, Col, Typography } from 'antd';\n\nimport Header from './Header';\nimport styles from './Layout.module.css';\n\nconst { Content, Footer } = DesignLayout;\nconst { Title } = Typography;\n\nconst Layout = ({ children, title }) => (\n  <DesignLayout className={styles.layout}>\n    <Header />\n    <Content className={styles.main}>\n      <Row className={styles.row}>\n        <Col className={styles.col} span={16} offset={4}>\n          <Title level={2}>{title}</Title>\n          <div>{children}</div>\n        </Col>\n      </Row>\n    </Content>\n    <Footer className={styles.footer}>© 2020 Keepcoding</Footer>\n  </DesignLayout>\n);\n\nLayout.propTypes = {\n  title: T.string.isRequired,\n  children: T.node,\n};\n\nexport default Layout;\n","import React from 'react';\nimport T from 'prop-types';\n\nimport styles from './FormField.module.css';\n\nconst FormField = ({ children, label, ...props }) => (\n  <div className={styles.field} {...props}>\n    <span className={styles.label}>{label}</span>\n    {children}\n  </div>\n);\n\nFormField.propTypes = {\n  children: T.node,\n  label: T.node,\n};\n\nexport default FormField;\n","export default \"data:image/png;base64,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\"","import React from 'react';\nimport T from 'prop-types';\nimport { Image, Button } from 'antd';\nimport { DeleteOutlined } from '@ant-design/icons';\n\nimport placeholder from '../../../assets/photo-placeholder.png';\n// NOTE: module css example\n// When import from css module, it resolves to something like that\n// styles = {\n//   container: \"InputImage_container__4H_Sr\"\n//   image: \"InputImage_image__9U_Ck\"\n// }\nimport styles from './InputImage.module.css';\n\nclass InputImage extends React.Component {\n  state = {\n    src: placeholder,\n  };\n\n  inputRef = React.createRef(null);\n\n  readFile = file => {\n    const { onChange } = this.props;\n    const setSrc = src =>\n      this.setState({ src }, () => {\n        if (onChange) onChange(file);\n      });\n\n    if (!file) {\n      setSrc(placeholder);\n    } else {\n      const reader = new FileReader();\n      reader.onload = function () {\n        setSrc(reader.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  handleClick = () => {\n    const { src } = this.state;\n    const { current: fileInput } = this.inputRef;\n    if (src === placeholder) {\n      fileInput.click();\n    }\n  };\n\n  handleDeleteClick = () => {\n    const { current: fileInput } = this.inputRef;\n    fileInput.value = null;\n    this.readFile(null);\n  };\n\n  handleChange = ev => {\n    const [file] = ev.target.files;\n    this.readFile(file);\n  };\n\n  render() {\n    const { onChange, ...props } = this.props;\n    const { src } = this.state;\n\n    const isSrcLoaded = src !== placeholder;\n\n    return (\n      <React.Fragment>\n        <input\n          type=\"file\"\n          accept=\"image/png, image/jpeg, image/gif\"\n          ref={this.inputRef}\n          onChange={this.handleChange}\n          style={{ display: 'none' }}\n          {...props}\n        />\n        {/*\n          styles.container is a unique class name,\n          something like \"InputImage_container__9U_Ck\"\n        */}\n        <div className={styles.container}>\n          <Image\n            className={styles.image}\n            fallback={placeholder}\n            height={200}\n            preview={isSrcLoaded}\n            src={src}\n            width={200}\n            onClick={this.handleClick}\n          />\n          {isSrcLoaded && (\n            <div className={styles.overlay}>\n              <Button\n                type=\"primary\"\n                className={styles.button}\n                danger\n                icon={<DeleteOutlined />}\n                onClick={this.handleDeleteClick}\n              />\n            </div>\n          )}\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nInputImage.propTypes = {\n  onChange: T.func,\n};\n\nexport default InputImage;\n","import React from 'react';\nimport T from 'prop-types';\n\nimport { Tag } from 'antd';\n\nconst tagsColors = {\n  motor: 'green',\n  mobile: 'orange',\n  lifestyle: 'pink',\n  work: 'blue',\n};\n\nconst Tags = ({ tags }) =>\n  tags.map(tag => (\n    <Tag key={tag} color={tagsColors[tag]}>\n      {tag}\n    </Tag>\n  ));\n\nTags.propTypes = {\n  tags: T.arrayOf(T.string.isRequired).isRequired,\n};\n\nexport default Tags;\n","export const formatter = value =>\n  `€ ${value}`.replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.');\n\nexport const parser = value => value.replace(/€\\s?|(\\.*)/g, '');\n","import React from 'react';\nimport T from 'prop-types';\nimport { Redirect } from 'react-router-dom';\nimport { Divider, Image, Typography, Statistic, Row, Col } from 'antd';\n\nimport { getAdvert, deleteAdvert } from '../../../api/adverts';\nimport Layout from '../../layout';\nimport { ConfirmationButton } from '../../shared';\nimport { DeleteOutlined } from '@ant-design/icons';\nimport placeholder from '../../../assets/photo-placeholder.png';\nimport Tags from '../Tags';\nimport { formatter } from '../../../utils/numbers';\n\nconst { Title } = Typography;\n\nclass AdvertPage extends React.Component {\n  state = {\n    advert: null,\n    error: null,\n  };\n\n  getAdvertId = () => this.props.match.params.id;\n\n  handleDeleteClick = () => {\n    const { history } = this.props;\n    deleteAdvert(this.getAdvertId()).then(() => history.push('/'));\n  };\n\n  getAdvert = async () => {\n    try {\n      const { result } = await getAdvert(this.getAdvertId());\n      if (!result) {\n        const error = { message: 'Not found' };\n        throw error;\n      }\n      this.setState({ advert: result });\n    } catch (error) {\n      this.setState({ error });\n    }\n  };\n\n  renderAdvert = () => {\n    const { advert, error } = this.state;\n\n    if (error) {\n      return <Redirect to=\"/404\" />;\n    }\n\n    if (!advert) {\n      return null;\n    }\n\n    const { name, price, tags, sale, photoUrl } = advert;\n\n    return (\n      <Row>\n        <Col span={24}>\n          <Title level={2}>\n            {name} - {sale ? 'Sell' : 'Buy'}\n          </Title>\n        </Col>\n        <Col span={12}>\n          <Statistic title=\"Price\" value={price} formatter={formatter} />\n          <div style={{ marginTop: 20 }}>\n            <span style={{ marginRight: 5 }}>Tags</span>\n            <Tags tags={tags} />\n          </div>\n        </Col>\n        <Col span={12}>\n          <Image\n            src={photoUrl}\n            alt={name}\n            width={300}\n            height={300}\n            fallback={placeholder}\n          />\n        </Col>\n        <ConfirmationButton\n          danger\n          icon={<DeleteOutlined />}\n          confirmationProps={{\n            title: 'Delete advert?',\n            content: 'Are you sure you want to delete this advert?',\n            okText: 'Yes',\n            cancelText: 'No',\n            okButtonProps: {\n              danger: true,\n            },\n          }}\n          onConfirm={this.handleDeleteClick}\n          style={{ marginTop: 20 }}\n          block\n        >\n          Delete\n        </ConfirmationButton>\n      </Row>\n    );\n  };\n\n  componentDidMount() {\n    this.getAdvert();\n  }\n\n  render() {\n    return (\n      <Layout title=\"Advert detail\">\n        <Divider>Detail of your advert</Divider>\n        {this.renderAdvert()}\n      </Layout>\n    );\n  }\n}\n\nAdvertPage.propTypes = {\n  match: T.shape({ params: T.shape({ id: T.string.isRequired }).isRequired })\n    .isRequired,\n};\n\nexport default AdvertPage;\n","import React from 'react';\nimport { Select } from 'antd';\n\nimport { getTags } from '../../api/adverts';\n\nconst { Option } = Select;\n\nclass TagsSelect extends React.Component {\n  state = {\n    tags: null,\n  };\n\n  componentDidMount() {\n    getTags().then(({ result: tags }) => this.setState({ tags }));\n  }\n\n  render() {\n    const { tags } = this.state;\n    return (\n      <Select\n        allowClear\n        disabled={!tags}\n        mode=\"multiple\"\n        placeholder=\"Select tags\"\n        style={{ width: '100%' }}\n        {...this.props}\n      >\n        {tags && tags.map(tag => <Option key={tag}>{tag}</Option>)}\n      </Select>\n    );\n  }\n}\n\nexport default TagsSelect;\n","export const saleOptions = {\n  sell: { label: 'Sell', value: 'sell' },\n  buy: { label: 'Buy', value: 'buy' },\n  all: { label: 'All', value: 'all' },\n};\n\nexport const MIN_PRICE = 0;\nexport const MAX_PRICE = 10000;\n","import React from 'react';\nimport T from 'prop-types';\nimport { Button, Input, Slider, Radio, Row, Col } from 'antd';\n\nimport TagsSelect from '../TagsSelect';\nimport FormField from '../../shared/FormField';\nimport { saleOptions, MIN_PRICE, MAX_PRICE } from '../definitions';\nimport styles from './FiltersForm.module.css';\n\nexport const defaultFilters = {\n  name: '',\n  sale: saleOptions.all.value,\n  price: [],\n  tags: [],\n};\n\nclass FiltersForm extends React.Component {\n  state = {\n    ...this.props.initialFilters,\n  };\n\n  handleNameChange = ev => this.setState({ name: ev.target.value });\n  handlePriceChange = price => {\n    const [min, max] = price;\n    if (min === MIN_PRICE && max === MAX_PRICE) {\n      return this.setState({ price: [] });\n    }\n    this.setState({ price });\n  };\n  handleSaleChange = ev => this.setState({ sale: ev.target.value });\n  handleTagsChange = tags => this.setState({ tags });\n\n  handleSubmit = ev => {\n    const { onSubmit } = this.props;\n    ev.preventDefault();\n    onSubmit(this.state);\n  };\n\n  render() {\n    const { name, price, tags, sale } = this.state;\n    const priceValue = price.length === 0 ? [MIN_PRICE, MAX_PRICE] : price;\n\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <Row className={styles.form}>\n          <Col span={11}>\n            <FormField label=\"By name\">\n              <Input\n                placeholder=\"Name\"\n                onChange={this.handleNameChange}\n                value={name}\n              />\n            </FormField>\n            <FormField\n              label={\n                <>\n                  By price\n                  <strong style={{ margin: '0 5px' }}>\n                    {priceValue.join(' - ')}\n                  </strong>\n                </>\n              }\n            >\n              <Slider\n                range\n                defaultValue={priceValue}\n                min={MIN_PRICE}\n                max={MAX_PRICE}\n                onChange={this.handlePriceChange}\n              />\n            </FormField>\n          </Col>\n          <Col span={11} offset={2}>\n            <FormField label=\"By tags\">\n              <TagsSelect onChange={this.handleTagsChange} value={tags} />\n            </FormField>\n            <FormField label=\"By type\">\n              <Radio.Group\n                options={Object.values(saleOptions)}\n                onChange={this.handleSaleChange}\n                value={sale}\n              />\n            </FormField>\n          </Col>\n          <Col span={24}>\n            <Button\n              className={styles.button}\n              type=\"primary\"\n              htmlType=\"submit\"\n              block\n            >\n              Search\n            </Button>\n          </Col>\n        </Row>\n      </form>\n    );\n  }\n}\n\nFiltersForm.propTypes = {\n  initialFilters: T.shape({\n    name: T.string,\n    sale: T.oneOf(Object.keys(saleOptions)),\n    price: T.arrayOf(T.number),\n    tags: T.arrayOf(T.string),\n  }),\n  onSubmit: T.func.isRequired,\n};\n\nFiltersForm.defaultProps = {\n  initialFilters: defaultFilters,\n};\n\nexport default FiltersForm;\n","import T from 'prop-types';\nimport { Card, Statistic, Row, Col, Divider, Typography } from 'antd';\n\nimport { formatter } from '../../../utils/numbers';\nimport Tags from '../Tags';\n\nconst getHeadStyle = sale =>\n  sale\n    ? {\n        backgroundColor: '#f6ffed',\n        color: '#52c41a',\n      }\n    : {\n        backgroundColor: '#fff7e6',\n        color: '#fa8c16',\n      };\n\nconst AdvertCard = ({ name, price, sale, tags }) => (\n  <Card title={sale ? 'Sell' : 'Buy'} headStyle={getHeadStyle(sale)} hoverable>\n    <Row>\n      <Col span={12}>\n        <Typography.Title level={4}>{name}</Typography.Title>\n      </Col>\n      <Col span={12} style={{ textAlign: 'right' }}>\n        <Statistic title=\"Price\" value={price} formatter={formatter} />\n      </Col>\n    </Row>\n    <Divider plain></Divider>\n    <Tags tags={tags}></Tags>\n  </Card>\n);\nAdvertCard.propTypes = {\n  name: T.string.isRequired,\n  price: T.number.isRequired,\n  sale: T.bool.isRequired,\n  tags: T.arrayOf(T.string.isRequired).isRequired,\n};\n\nexport default AdvertCard;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Empty, Button, Spin, List, Divider } from 'antd';\n\nimport storage from '../../../utils/storage';\nimport { getAdverts } from '../../../api/adverts';\nimport Layout from '../../layout';\nimport FiltersForm, { defaultFilters } from './FiltersForm';\nimport AdvertCard from './AdvertCard';\n\nclass AdvertsPage extends React.Component {\n  state = {\n    adverts: null,\n    loading: false,\n    error: null,\n    filters: storage.get('filters') || defaultFilters,\n  };\n\n  formatFilters = () => {\n    const {\n      filters: { name, sale, price, tags },\n    } = this.state;\n\n    const filters = {};\n    if (name) {\n      filters.name = name;\n    }\n    if (['sell', 'buy'].includes(sale)) {\n      filters.sale = sale === 'sell';\n    }\n    if (price.length) {\n      filters.price = price.join('-');\n    }\n    if (tags.length) {\n      filters.tags = tags.join(',');\n    }\n\n    return filters;\n  };\n\n  getAdverts = () => {\n    this.setState({ loading: true, error: null });\n    getAdverts(this.formatFilters())\n      .then(({ result }) =>\n        this.setState({ loading: false, adverts: result.rows }),\n      )\n      .catch(error => this.setState({ loading: false, error }));\n  };\n\n  handleSubmit = filters => {\n    storage.set('filters', filters);\n    this.setState({ filters });\n  };\n\n  renderLoading = () => (\n    <div style={{ display: 'flex', justifyContent: 'center' }}>\n      <Spin size=\"large\" />\n    </div>\n  );\n\n  renderError = () => {\n    const { error } = this.state;\n    return (\n      <Empty\n        description={<span style={{ color: '#ff4d4f' }}>{`${error}`}</span>}\n      >\n        <Button type=\"primary\" danger onClick={this.getAdverts}>\n          Reload\n        </Button>\n      </Empty>\n    );\n  };\n\n  renderEmpty = () => {\n    const { filters } = this.state;\n    const isFiltered =\n      JSON.stringify(filters) !== JSON.stringify(defaultFilters);\n    return (\n      <Empty description={<span>No adverts here!</span>}>\n        {isFiltered ? (\n          <span>Refine your search</span>\n        ) : (\n          <Link to=\"/adverts/new\">\n            <Button type=\"primary\">Create the first one</Button>\n          </Link>\n        )}\n      </Empty>\n    );\n  };\n\n  renderAdvert = advert => {\n    return (\n      <List.Item>\n        <Link to={`/adverts/${advert._id}`}>\n          <AdvertCard {...advert} />\n        </Link>\n      </List.Item>\n    );\n  };\n\n  renderAdverts = () => {\n    const { adverts, loading, error } = this.state;\n\n    if (loading) {\n      return this.renderLoading();\n    }\n\n    if (error) {\n      return this.renderError();\n    }\n\n    if (!adverts) {\n      return null;\n    }\n\n    if (!adverts.length) {\n      return this.renderEmpty();\n    }\n\n    return (\n      <List\n        grid={{ gutter: 16, column: 3 }}\n        dataSource={adverts}\n        renderItem={this.renderAdvert}\n      />\n    );\n  };\n\n  componentDidMount() {\n    this.getAdverts();\n  }\n\n  componentDidUpdate(prevProps, { filters: prevFilters }) {\n    const { filters } = this.state;\n    if (JSON.stringify(filters) !== JSON.stringify(prevFilters)) {\n      this.getAdverts();\n    }\n  }\n\n  render() {\n    const { filters } = this.state;\n    return (\n      <Layout title=\"Adverts list\">\n        <Divider>Filter your adverts</Divider>\n        <FiltersForm initialFilters={filters} onSubmit={this.handleSubmit} />\n        <Divider>Adverts</Divider>\n        {this.renderAdverts()}\n      </Layout>\n    );\n  }\n}\n\nexport default AdvertsPage;\n","import React from 'react';\nimport T from 'prop-types';\nimport { Button, Radio, Input, InputNumber, Row, Col } from 'antd';\n\nimport TagsSelect from '../TagsSelect';\nimport { FormField, InputImage } from '../../shared';\nimport * as numbers from '../../../utils/numbers';\n\nimport { saleOptions, MIN_PRICE, MAX_PRICE } from '../definitions';\n\nimport styles from './NewAdvertForm.module.css';\n\nclass NewAdvertForm extends React.Component {\n  state = {\n    name: '',\n    price: 0,\n    tags: [],\n    photo: null,\n    sale: saleOptions.sell.value,\n  };\n\n  canSubmit = () => {\n    const { name, price, tags } = this.state;\n\n    return [\n      // valid name\n      !!name,\n      // valid price\n      !Number.isNaN(price) && Number.isFinite(price) && price >= 0,\n      // valid tags\n      !!tags.length,\n    ].every(validation => validation); // all validations pass\n  };\n\n  getFormData = () => {\n    const { name, price, tags, sale, photo } = this.state;\n    const formData = new FormData();\n    formData.append('name', name);\n    formData.append('sale', sale === saleOptions.sell.value);\n    formData.append('price', price);\n    tags.forEach((tag, index) => formData.append(`tags[${index}]`, tag));\n    if (photo) formData.append('photo', photo);\n    return formData;\n  };\n\n  handleNameChange = ev => this.setState({ name: ev.target.value });\n  handlePriceChange = price => this.setState({ price });\n  handleTagsChange = tags => this.setState({ tags });\n  handlePhotoChange = photo => this.setState({ photo });\n  handleSaleChange = ev => this.setState({ sale: ev.target.value });\n\n  handleSubmit = ev => {\n    const { onSubmit } = this.props;\n    ev.preventDefault();\n    onSubmit(this.getFormData());\n  };\n\n  render() {\n    const { name, price, tags, sale } = this.state;\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <Row className={styles.form}>\n          <Col span={11}>\n            <FormField label=\"Name\">\n              <Input\n                placeholder=\"Name\"\n                onChange={this.handleNameChange}\n                value={name}\n              />\n            </FormField>\n            <FormField label=\"Price\">\n              <InputNumber\n                {...numbers}\n                className={styles.price}\n                min={MIN_PRICE}\n                max={MAX_PRICE}\n                onChange={this.handlePriceChange}\n                value={price}\n              />\n            </FormField>\n          </Col>\n          <Col span={11} offset={2}>\n            <FormField label=\"Tags\">\n              <TagsSelect onChange={this.handleTagsChange} value={tags} />\n            </FormField>\n            <FormField label=\"Type\">\n              <Radio.Group\n                options={[saleOptions.sell, saleOptions.buy]}\n                onChange={this.handleSaleChange}\n                value={sale}\n              />\n            </FormField>\n          </Col>\n          <Col span={24}>\n            <FormField label=\"Photo\">\n              <InputImage type=\"file\" onChange={this.handlePhotoChange} />\n            </FormField>\n            <Button\n              className={styles.button}\n              type=\"primary\"\n              htmlType=\"submit\"\n              disabled={!this.canSubmit()}\n              block\n            >\n              Up!\n            </Button>\n          </Col>\n        </Row>\n      </form>\n    );\n  }\n}\n\nNewAdvertForm.propTypes = {\n  onSubmit: T.func.isRequired,\n};\n\nexport default NewAdvertForm;\n","import React from 'react';\nimport T from 'prop-types';\nimport { Alert, Divider } from 'antd';\n\nimport { createAdvert } from '../../../api/adverts';\nimport Layout from '../../layout';\nimport NewAdvertForm from './NewAdvertForm';\n\nclass NewAdvertPage extends React.Component {\n  state = {\n    error: null,\n  };\n\n  handleSubmit = advert => {\n    const { history } = this.props;\n    this.resetError();\n    createAdvert(advert)\n      .then(({ result: advert }) => history.push(`/adverts/${advert._id}`))\n      .catch(error => this.setState({ error }));\n  };\n\n  resetError = () => this.setState({ error: null });\n\n  render() {\n    const { error } = this.state;\n    return (\n      <Layout title=\"New advert\">\n        <Divider>Create an advert</Divider>\n        <NewAdvertForm onSubmit={this.handleSubmit} />\n        {error && (\n          <Alert\n            afterClose={this.resetError}\n            closable\n            message={error}\n            showIcon\n            type=\"error\"\n          />\n        )}\n      </Layout>\n    );\n  }\n}\n\nNewAdvertPage.propTypes = {\n  history: T.shape({ push: T.func.isRequired }).isRequired,\n};\n\nexport default NewAdvertPage;\n","import React from 'react';\n\nconst NotFoundPage = () => (\n  <h1 style={{ textAlign: 'center' }}>404 | Not found</h1>\n);\n\nexport default NotFoundPage;\n","import React from 'react';\nimport T from 'prop-types';\nimport { Switch, Route, Redirect } from 'react-router-dom';\n\nimport { PrivateRoute, LoginPage } from '../auth';\nimport { AdvertPage, AdvertsPage, NewAdvertPage } from '../adverts';\nimport { AuthContextProvider } from '../../contexts/auth';\nimport NotFoundPage from './NotFoundPage';\n\nclass App extends React.Component {\n  state = {\n    isLogged: this.props.isInitiallyLogged,\n  };\n\n  handleLogin = cb => {\n    this.setState({ isLogged: true }, cb);\n  };\n\n  handleLogout = () => {\n    this.setState({ isLogged: false });\n  };\n\n  render() {\n    const { isLogged } = this.state;\n    return (\n      <AuthContextProvider\n        value={{\n          isLogged,\n          onLogin: this.handleLogin,\n          onLogout: this.handleLogout,\n        }}\n      >\n        <Switch>\n          <Route path=\"/\" exact>\n            <Redirect to=\"/adverts\" />\n          </Route>\n          <Route path=\"/login\" exact>\n            {routerProps => (\n              <LoginPage onLogin={this.handleLogin} {...routerProps} />\n            )}\n          </Route>\n          <PrivateRoute path=\"/adverts\" exact>\n            <AdvertsPage />\n          </PrivateRoute>\n          <PrivateRoute path=\"/adverts/new\" exact component={NewAdvertPage} />\n          <PrivateRoute path=\"/adverts/:id\" exact component={AdvertPage} />\n          <Route path=\"/404\" exact>\n            <NotFoundPage />\n          </Route>\n          <Route>\n            <Redirect to=\"/404\" />\n          </Route>\n        </Switch>\n      </AuthContextProvider>\n    );\n  }\n}\n\nApp.propTypes = {\n  isInitiallyLogged: T.bool,\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport { configureClient } from './api/client';\nimport storage from './utils/storage';\nimport './index.css';\nimport App from './components/App';\n\n// Read token from storage\nconst { token } = storage.get('auth') || { token: null };\n\n// Configure api client\nconfigureClient(token);\n\nReactDOM.render(\n  <BrowserRouter>\n    <App isInitiallyLogged={!!token} />\n  </BrowserRouter>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"Layout_layout__2DFhb\",\"main\":\"Layout_main__auk_r\",\"row\":\"Layout_row__-kDMK\",\"col\":\"Layout_col__2P3XB\",\"footer\":\"Layout_footer__1PSEr\"};"],"sourceRoot":""}